angular.module("underscore",[]).factory("_",function(){return window._}),angular.module("firstlife",["ionic","angularMoment","firstlife.config","firstlife.controllers","firstlife.directives","firstlife.filters","firstlife.services","firstlife.factories","underscore","leaflet-directive","ngResource","ngCordova","slugifier","ngTagsInput","ui.router","ionic.wizard","ionic-datepicker","ionic-timepicker","ngMessages","naif.base64","base64","angucomplete","angular-jwt","720kb.tooltips","cbuffer","ct.ui.router.extras","pascalprecht.translate","destegabry.timeline"]).run(function(e,t,i,n,o,r){function d(e){var t={};return e&&null!=e&&"undefined"!=e&&""!=e&&e.split("&").forEach(function(e){var i=e.split("=");t[i[0]]=decodeURIComponent(i[1])}),angular.toJson(t)}self.config=e,t.isLoggedIn=!1,i.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault()}),t.previousState,t.currentState,self.logoutHandler=!1,t.$on("$stateChangeStart",function(e,i,s,a){console.log("Changing state from ",a.name," ...to... ",i.name," parametri di stato: ",o),t.previousState=a.name,t.currentState=i.name;var h=i.data.authenticate;if(console.log("is auth required? ",h," is auth requested?",config.behaviour.is_login_required),config.behaviour.is_login_required&&h&&!t.isLoggedIn){console.log("Salvo lo stato prima del login: ",o),e.preventDefault();var l=d(r.url().split("?")[1]);n.go("login",{action:"redirect",from:i.name,params:l})}else console.log("Continuo a ",i.name)})}).config(function(e,t,i,n,o){self.config=e,t.state("login",{url:"/login?action&from&params",controller:"WalktroughCtrl as walktrough",templateUrl:"templates/walktrough.html",data:{authenticate:!1}}).state("app",{url:"/app","abstract":!0,templateUrl:"templates/side-menu.html",controller:"AppCtrl as app"}).state("app.maps",{url:"/maps?zoom&lat&lng&entity",reloadOnSearch:!1,views:{menuContent:{templateUrl:"templates/maps.html",controller:"MapCtrl as map"}},data:{authenticate:config.behaviour.is_login_required}}).state("app.editor",{url:"/editor/?lat&lng&id&entity_type&group&"+config.types.relations.list.join("&"),views:{menuContent:{templateUrl:"templates/form/wizard.html",controller:"EditorCtrl as editor"}},data:{authenticate:!0}}).state("app.user",{url:"/user/?action",views:{menuContent:{templateUrl:"templates/form/userForm.html",controller:"UserCtrl as user"}},data:{authenticate:!0}}),i.otherwise("/login"),o.decorator("$exceptionHandler",["$delegate",function(e){return function(t,i){e(t,i),console.log("EXCP: ",t.message)}}])}).config(["$translateProvider","myConfig",function(e,t){e.translations("it",{SEARCH:"Cerca",ERROR:"Errore",CONTENT:"Contenuto",CREATED_BY:"pubblicato da",OF:"del",WELCOME:"Ciao",WELCOME_MESSAGE:"Benvenuto in",LANG:"Lingua",PROFILE:"Profilo",LOGIN:"Accedi",LOGOUT:"Esci",EDIT_PROFILE:"Modifica profilo",EXPLORE:"Esplora",MAP:"Mappa",HELP:"Supporto",HELP_MESSAGE:"Segnalazioni",FILTERS:"Filtri",PROFILE_HEADER:"Gestione profilo",NAME:"Nome",LASTNAME:"Cognome",PASSWORD:"Password",CONTROLL_PASSWORD:"Conferma password",EDIT:"Modifica",ABORT:"Annulla",RESET:"Reset",SAVE:"Salva",PUBLISH:"Pubblica",COMMENT_ALLERT:"Il tuo commento verrà pubblicato sul Web e sarà visibile a tutti.",COMMENT_TO:"Commento a",CANCEL:"Cancella",SIGNUP:"Registrazione",PASSWORD_RETRIEVE:"Recupera password",SIGNUP_MESSAGE:"Si riceverà una nuova password tramite e-mail",CLICKING:"Cliccando su",APPROVE:"accetti le nostre",READING:"e confermi di aver letto la nostra",LICENSE_DISCLAIMER:"Eccetto dove diversamente specificato, i contenuti di questo sito sono rilasciati sotto",DATA_NORMS:"Normativa sui dati",DATA_NORMS_LINK:"http://firstlife.org/",TERMS:"Condizioni",TERMS_LINK:"http://firstlife.org/",LICENSE:"Licenza Creative Commons Attribuzione 3.0 Italia",LICENSE_LINK:"http://creativecommons.org/licenses/by/3.0/it/",WALL_HEADER:"Bacheca",SEARCH_IN:"Cerca su",ALWAYS:"Sempre",EDITMODE_TOOLTIP:"Aggiungi un luogo o evento alla mappa",FILTERMODE_TOOLTIP:"Filtra per categoria",WALLMODE_TOOLTIP:"Mostra contenuto della mappa",ZONEMODE_TOOLTIP:"Aree d'interesse",TIMEFILTER_TOOLTIP:"Filtra per data",LOCATE_TOOLTIP:"Trova la mia posizione",MENU:"Menu",TODAY:"Oggi, ",MANDATORY_FIELD:"Campo richiesto",BACK:"Indietro",NEXT:"Avanti",MORE_THAN_MESSAGE:"Il campo deve essere almeno di",LESS_THAN_MESSAGE:"Il campo non deve superare i",CHARACTERS:"caratteri",UPDATE:"Modifica",CREATE:"Creazione",LAST_UPDATE_MESSAGE:"Ultima modifica il",BY_USER:"effettuata da",COMMENTS:"Commenti",COMMENT:"Commento",FROM:"Dal",TO:"Al",AT:"Alle",OF_TIME:"del",FROM_AT:"dalle",TO_AT:"alle",PERMALINK:"Permalink",CAMERA:"Camera",GALLERY:"Galleria",PICTURE:"Foto",WHEN:"il",DESCRIPTION:"Descrizione",PLACE_NAME:"Luogo",EVENT_NAME:"Evento",POST_NAME:"Post",CREATION_TEXT:"Cosa vuoi creare?",URL_LABEL:"Collegamento esterno",URL_PLACEHOLDER:"URL esterno, es. http://www...",STARTDATE_LABEL:"Data d'inizio",STARTDATE_PLACEHOLDER:"Data inizio",ENDDATE_LABEL:"Data di fine",ENDDATE_PLACEHOLDER:"Data fine",TAGS_LABEL:"Tags",TAGS_PLACEHOLDER:"Tag, es. Palazzo, giardino, concerto...",GROUP:"Gruppo",GROUPS:"Gruppi",THUMBNAIL_LABEL:"Thumbnail",THUMBNAIL_PLACEHOLDER:"Immagine rappresentativa",USER:"Utente",USERS:"Utenti",PARENT_PLACE_LABEL:"Luogo contenitore",PARENT_PLACE_PLACEHOLDER:"All'interno di (luogo contenitore)",LOCATION_LABEL:"Luogo contenitore",LOCATION_PLACEHOLDER:"All'interno di (luogo contenitore)",DURATION_LABEL:"Orario di fine",DURATION_PLACEHOLDER:"Orario fine",DOORTIME_LABEL:"Orario d'inizio",DOORTIME_PLACEHOLDER:"Orario inizio",PARENT_EVENT_LABEL:"Evento contenitore",PARENT_EVENT_PLACEHOLDER:"Parte di (evento)",ATTENDEES_LABEL:"Partecipanti",ATTENDEES_PLACEHOLDER:"Persone che partecipano",PERFORMER_LABEL:"Esecutore",PERFORMER_PLACEHOLDER:"Artista, cantante, attore...",ORGANIZER_LABEL:"Organizzatore",ORGANIZER_PLACEHOLDER:"Organizzatore/responsabile dell'evento",ARTICLE_OF_LABEL:"Parla di",ARTICLE_OF_PLACEHOLDER:"Argomento dell'articolo",TEXT_LABEL:"Post",TEXT_PLACEHOLDER:"Contenuto dell'articolo...",COMMENT_NAME:"News",COMMENT_OF_LABEL:"COMMENT_OF_LABEL",COMMENT_OF_PLACEHOLDER:"COMMENT_OF_LABEL",LEVEL_LABEL:"Piano/Livello",LEVEL_PLACEHOLDER:"es. 0 per livello della strada, 1 per primo piano, etc...",REL_PARENT_ID_LABEL:"Parte di",REL_PARENT_ID_CHILD_LABEL:"Contiene",REL_LOCATION_LABEL:"Si tiene in",REL_LOCATION_CHILD_LABEL:"Ospita",REL_ARTICLE_OF_LABEL:"Parla di",REL_ARTICLE_OF_CHILD_LABEL:"Approfondimenti",REL_COMMENT_OF_LABEL:"Parla di",REL_COMMENT_OF_CHILD_LABEL:"Notizie"}),e.translations("en",{SEARCH:"Search",ERROR:"Error",CONTENT:"Content",CREATED_BY:"posted by",OF:"of",WELCOME:"Hello",WELCOME_MESSAGE:"Welcome in",LANG:"Language",PROFILE:"Profile",LOGIN:"Login",LOGOUT:"Logout",EDIT_PROFILE:"Edit profile",EXPLORE:"Explore",MAP:"Map",HELP:"Helpdesk",HELP_MESSAGE:"Tickets",FILTERS:"Filters",PROFILE_HEADER:"Edit profile",NAME:"Name",LASTNAME:"Lastname",PASSWORD:"Password",CONTROLL_PASSWORD:"Password confirmation",EDIT:"Edit",ABORT:"Abort",RESET:"Reset",SAVE:"Save",PUBLISH:"Post",COMMENT_ALLERT:"Il tuo commento verr&agrave; pubblicato sul Web e sarà visibile a tutti.",COMMENT_TO:"Commento a",CANCEL:"Trash",SIGNUP:"Signup",PASSWORD_RETRIEVE:"Recupera password",SIGNUP_MESSAGE:"Si riceverà una nuova password tramite e-mail",CLICKING:"Cliccando su",APPROVE:"accetti le nostre",READING:"e confermi di aver letto la nostra",LICENSE_DISCLAIMER:"Eccetto dove diversamente specificato, i contenuti di questo sito sono rilasciati sotto",DATA_NORMS:"Normativa sui dati",DATA_NORMS_LINK:"http://firstlife.org/",TERMS:"Condizioni",TERMS_LINK:"http://firstlife.org/",LICENSE:"Licenza Creative Commons Attribuzione 3.0 Italia",LICENSE_LINK:"http://creativecommons.org/licenses/by/3.0/it/",WALL_HEADER:"Wall",SEARCH_IN:"Search in",ALWAYS:"Sempre",EDITMODE_TOOLTIP:"Aggiungi un luogo o evento alla mappa",FILTERMODE_TOOLTIP:"Filtra per categoria",WALLMODE_TOOLTIP:"Mostra contenuto della mappa",ZONEMODE_TOOLTIP:"Aree d'interesse",TIMEFILTER_TOOLTIP:"Filtra per data",LOCATE_TOOLTIP:"Trova la mia posizione",MENU:"Menu",TODAY:"Today, ",MANDATORY_FIELD:"Campo richiesto",BACK:"Back",NEXT:"Next",MORE_THAN_MESSAGE:"Il campo deve essere almeno di",LESS_THAN_MESSAGE:"Il campo non deve superare i",CHARACTERS:"characters",UPDATE:"Update",CREATE:"Create",LAST_UPDATE_MESSAGE:"Last update",BY_USER:"by",COMMENTS:"Comments",COMMENT:"Comment",FROM:"From",AT:"At",FROM_AT:"From",TO_AT:"To",TO:"To",OF_TIME:"of",PERMALINK:"Permalink",CAMERA:"Camera",GALLERY:"Gallery",PICTURE:"Picture",WHEN:"",DESCRIPTION:"Description",PLACE_NAME:"Place",EVENT_NAME:"Event",POST_NAME:"Post",CREATION_TEXT:"What do you wish to create?",URL_LABEL:"External URL",URL_PLACEHOLDER:"URL link, ex. http://www...",STARTDATE_LABEL:"Data d'inizio",STARTDATE_PLACEHOLDER:"Data inizio",ENDDATE_LABEL:"Data di fine",ENDDATE_PLACEHOLDER:"Data fine",TAGS_LABEL:"Tags",TAGS_PLACEHOLDER:"Tag, es. Palazzo, giardino, concerto...",GROUP:"Group",GROUPS:"Groups",THUMBNAIL_LABEL:"Thumbnail",THUMBNAIL_PLACEHOLDER:"Immagine rappresentativa",USER:"User",USERS:"Users",PARENT_PLACE_LABEL:"Luogo contenitore",PARENT_PLACE_PLACEHOLDER:"All'interno di (luogo contenitore)",LOCATION_LABEL:"Luogo contenitore",LOCATION_PLACEHOLDER:"All'interno di (luogo contenitore)",DURATION_LABEL:"End time",DURATION_PLACEHOLDER:"End time",DOORTIME_LABEL:"Start time",DOORTIME_PLACEHOLDER:"Start time",PARENT_EVENT_LABEL:"Evento contenitore",PARENT_EVENT_PLACEHOLDER:"Part of (event)",ATTENDEES_LABEL:"Attendees",ATTENDEES_PLACEHOLDER:"Persone che partecipano",PERFORMER_LABEL:"Performer",PERFORMER_PLACEHOLDER:"Artista, cantante, attore...",ORGANIZER_LABEL:"Organizer",ORGANIZER_PLACEHOLDER:"Organizzatore/responsabile dell'evento",ARTICLE_OF_LABEL:"About of",ARTICLE_OF_PLACEHOLDER:"Argomento dell'articolo",TEXT_LABEL:"Post",TEXT_PLACEHOLDER:"Contenuto dell'articolo...",COMMENT_NAME:"News",COMMENT_OF_LABEL:"COMMENT_OF_LABEL",COMMENT_OF_PLACEHOLDER:"COMMENT_OF_LABEL",LEVEL_LABEL:"Level/Floor",LEVEL_PLACEHOLDER:"es. 0 for ground level, 1 for first floor, etc...",REL_PARENT_ID_LABEL:"Part of",REL_PARENT_ID_CHILD_LABEL:"Contiene",REL_LOCATION_LABEL:"Si tiene in",REL_LOCATION_CHILD_LABEL:"Hosts",REL_ARTICLE_OF_LABEL:"About of",REL_ARTICLE_OF_CHILD_LABEL:"Approfondimenti",REL_COMMENT_OF_LABEL:"About of",REL_COMMENT_OF_CHILD_LABEL:"News"}),console.log("Set della lingua di default ",t.design.default_language),e.preferredLanguage(t.design.default_language)}]);
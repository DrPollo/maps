<ion-header-bar>
    <div class="bar bar-header">
        <form id="ricerca" name="ricerca" class="item-input-wrapper" ng-submit="exit()">
            <i class="icon ion-android-search"></i>
            <input type="search" placeholder="{{'FILTER_HINTS'| translate}}" ng-model="query">
            <i ng-show="query.length > 0" on-tap="clearQuery()" class="icon ion-close"></i>
        </form>
    </div>
    <div class="bar bar-subheader">
        <entity-filter></entity-filter>
    </div>
</ion-header-bar>
<ion-content style="top:88px;" class="modal-content" scroll-event-interval="10" overflow-scroll="true" scrollbar-x="false" direction="y" data-tap-disabled="false">
    <div class="cover" ng-show="loading" ng-init="loading = false"><ion-spinner icon="android"></ion-spinner></div>
    <div class="cover" ng-show="focus"></div>
    <div collection-repeat="marker in markers | orderBy: ['-last_update','name'] |filter:query track by marker.id"
         collection-item-height="240"
         collection-item-width="'100%'"
         class="container"
         ng-class="{'focus' : focus === marker.id}"
         ng-show="!loading">
        <wall-card ng-if="marker.id" marker="marker" query="query" close="close()" show="show(id)"></wall-card>
    </div>
    <nothing-to-read ng-if="!loading && markers.length < 1"></nothing-to-read>
</ion-content>
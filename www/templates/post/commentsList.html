<div class="comments-list list" ng-submit="publishComment()">
    <div class="comment item-text-wrap" ng-repeat="comment in comments |orderBy:'timestamp_insert' track by $index" ng-class="{'inappropriate': comment.inappropriate}">
        <button ng-if="user" ng-click="openMenu($event,comment.id, comment.owner)" class="menu button button-dark button-small button-clear button-icon ion-android-arrow-dropdown"></button>
        {{comment.message}}<span class="credits">{{' - '}}<span class="username">{{comment.owner_display_name}}</span>{{', '}}{{comment.timestamp_insert | date : 'd/MM/yyyy'}}</span>
    </div>
    <div class="comment-editor-box">
        <form ng-if="user" name="commentEditor" class="comment-editor" novalidate>
            <div class="cover" ng-show="loading" ng-init="loading = false"><ion-spinner icon="android"></ion-spinner></div>
            <textarea ng-enter="publishComment(message)" class="comment-box" name="text" placeholder="{{'COMMENTEDITOR_PLACEHOLDER' | translate}}" rows="1" ng-model="comment.message" minlength="5" maxlength="500" autogrow required></textarea>
        </form>
    </div>
</div>
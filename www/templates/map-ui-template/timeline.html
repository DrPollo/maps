<div id="context" ng-click="scaleUp()">{{context}}</div>
<div id="timeline" class="row">
    <div ng-repeat="slot in timewindow track by $index"
         class="repeated-item col-md-4"
         style="position:relative;"
         ng-class="now == $index ? 'current' : ''"
         ng-click="scaleDown(slot)">
        <div class="entities" ng-init="c = counter(slot)">
            <span ng-repeat="(k, val) in slot.markers" 
                  ng-style="{'background':val.color,'width':(val.counter/slot.total)*100+'%'}">
            </span>
        </div>
<!--        <i ng-if="now == $index" class="icon ion-ios-timer-outline"></i>-->
        <div class="label">{{slot.label}}</div>
<!--        <span class="badge badge-positive">{{slot.total}}</span>-->
    </div>
</div>
<div id="buttons">
    <button class="button button-icon ion-refresh" ng-click="resetNow()"></button>
    <button ng-if="!isMobile" class="button button-icon ion-arrow-left-b" ng-click="rewind()"></button>
    <button ng-if="!isMobile" class="button button-icon ion-arrow-right-b" ng-click="forward()"></button>
</div>
<div id="time-controls">
    <button class="button-icon ion-arrow-left-b time-control" ng-click="rewind()"></button>
    <button class="button-icon ion-android-refresh time-control reset" ng-click="reset()"></button>
    <button class="button-icon ion-arrow-right-b time-control" ng-click="forward()"></button>
</div>
<div class="vertical-show ease-in-animation">
    <ion-scroll id="timeline" class="row"
                zooming="true"
                direction="x"  scrollbar-x="false"
                ng-swipe-right="forward()" 
                ng-swipe-left="rewind()" 
                on-scroll="scrolling()">
        <div ng-repeat="slot in timewindow track by $index"
             class="repeated-item col-md-4 {{slot.class}}"
             style="position:relative;"
             ng-class="now == $index ? 'current' : ''"
             ng-click="scaleDown(slot)">
            <div class="divider-label">{{slot.upLabel}}</div>
            <div class="label">{{slot.label | translate}}</div>
            <div class="entities" ng-init="c = counter(slot)">
                <span ng-repeat="(k, val) in slot.markers" 
                      ng-style="{'background':val.color,'width':(val.counter/slot.total)*100+'%'}">
                </span>
            </div>
        </div>
    </ion-scroll>
    <div id="buttons">
        <button class="button button-outline" 
                ng-repeat="unit in units track by $index" 
                ng-show="$index >= indexDefaultUnit"
                ng-disabled="$index == indexDefaultUnit"
                ng-class="indexDefaultUnit == $index ? 'button-positive' : 'button-light'"
                ng-click="scaleUpTo($index)">
            {{unit.label| translate}}
        </button>
    </div>
</div>